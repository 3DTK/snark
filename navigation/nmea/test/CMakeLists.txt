SET( KIT nmea )

add_executable( ${CMAKE_PROJECT_NAME}_test_${KIT} test_nmea.cpp )
target_link_libraries( ${CMAKE_PROJECT_NAME}_test_${KIT} snark_navigation_nmea ${snark_ALL_EXTERNAL_LIBRARIES} ${GTEST_BOTH_LIBRARIES} )
IF( INSTALL_TESTS )
    INSTALL (
        FILES ${PROJECT_BINARY_DIR}/bin/${CMAKE_PROJECT_NAME}_test_${KIT}
        PERMISSIONS WORLD_READ GROUP_READ OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_EXECUTE WORLD_EXECUTE
        DESTINATION ${snark_INSTALL_CPP_TESTS_DIR} )
ENDIF( INSTALL_TESTS )

add_test( NAME ${CMAKE_PROJECT_NAME}_test_${KIT} COMMAND ${CMAKE_PROJECT_NAME}_test_${KIT} WORKING_DIRECTORY ${PROJECT_BINARY_DIR}/bin )
