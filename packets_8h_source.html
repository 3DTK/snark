<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>snark: packets.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">snark
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_36b900455804520ae0e9255798548610.html">snark</a></li><li class="navelem"><a class="el" href="dir_0a137c2bacb8997310c1ab77a7431e04.html">sensors</a></li><li class="navelem"><a class="el" href="dir_ec830cb7c8cea72b78a1b41bff504834.html">sick</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">packets.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="packets_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// This file is part of snark, a generic and flexible library</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// for robotics research.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Copyright (C) 2011 The University of Sydney</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// snark is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// version 3 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// snark is distributed in the hope that it will be useful, but WITHOUT ANY</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// for more details.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// License along with snark. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef SNARK_SENSORS_SICK_PACKET_H_</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define SNARK_SENSORS_SICK_PACKET_H_</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;boost/array.hpp&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;boost/date_time/posix_time/posix_time.hpp&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;comma/packed/byte.h&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;comma/packed/little_endian.h&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;comma/packed/big_endian.h&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;comma/packed/struct.h&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">namespace </span>snark {  <span class="keyword">namespace </span>sick { <span class="keyword">namespace </span>ldmrs {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1timestamp.html">   36</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1timestamp.html" title="NTP timestamp.">timestamp</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; timestamp, 8 &gt;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    comma::packed::net_uint32 seconds;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    comma::packed::net_uint32 fractions;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;};</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1little__endian__timestamp.html">   43</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1little__endian__timestamp.html" title="NTP timestamp for scan header... sigh...">little_endian_timestamp</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; little_endian_timestamp, 8 &gt;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    comma::packed::uint32 fractions;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    comma::packed::uint32 seconds;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;};</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html">   50</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html" title="Ibeo LD-MRS packet header.">header</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; header, 24 &gt;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a1fdc6153be01333d9ad64a8ae450249d">   54</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a1fdc6153be01333d9ad64a8ae450249d">types</a> { scan_type = 0x2202, command_type = 0x2010, response_type = 0x2020, fault_type = 0x2030 };</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a63ed35efe0141447e7b402237fbe8e78">   57</a></span>&#160;   <span class="keyword">static</span> boost::array&lt; unsigned char, 4 &gt; <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a63ed35efe0141447e7b402237fbe8e78" title="sentinel value">sentinel_value</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a91a86bfd65056e9fb66985c521c63533">   60</a></span>&#160;    comma::packed::net_uint32 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a91a86bfd65056e9fb66985c521c63533" title="sentinel (see the value below)">sentinel</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a328a4f38e7bb7c866c3e76829befea6a">   63</a></span>&#160;    comma::packed::net_uint32 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a328a4f38e7bb7c866c3e76829befea6a" title="previous message size; ignore, if in measuring mode">previous_size</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a224a33ab116935b5d741b2bcbdd2bb52">   66</a></span>&#160;    comma::packed::net_uint32 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a224a33ab116935b5d741b2bcbdd2bb52" title="message size without header">payload_size</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a3195a0d62895bf8fd95b296efc064b9e">   69</a></span>&#160;    comma::packed::byte <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a3195a0d62895bf8fd95b296efc064b9e" title="padding">padding</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a1b9684a984513663819348bc1127ee7c">   72</a></span>&#160;    comma::packed::byte <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a1b9684a984513663819348bc1127ee7c" title="device id; ignore, if connected directly to the device">device_id</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a65a482d4c9c50a0ef59d8c63dbd82ebf">   75</a></span>&#160;    comma::packed::net_uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a65a482d4c9c50a0ef59d8c63dbd82ebf" title="message type">type</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a7fe84043e8956e4f4f5c56a204819bc6">   78</a></span>&#160;    <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1timestamp.html" title="NTP timestamp.">timestamp</a> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a7fe84043e8956e4f4f5c56a204819bc6" title="message timestamp">t</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#aafc568a720a06040aa70083c38435804" title="default constructor">header</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html#a8d985300b138b6c5556ab17ed4df3b38" title="return true, if sentinel is valid">valid</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;};</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1fault.html">   89</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1fault.html">fault</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; fault, 16 &gt;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    comma::packed::uint16 faultRegister1;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    comma::packed::uint16 faultRegister2;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    comma::packed::uint16 warningRegister1;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    comma::packed::uint16 warningRegister2;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    boost::array&lt; comma::packed::uint16, 4 &gt; reserved;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">bool</span> fatal() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;};</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;std::ostream&amp; operator&lt;&lt;( std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1fault.html">fault</a>&amp; rhs );</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html">  102</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html" title="scan-related types">scan</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; scan, 44 &gt;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html">  105</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html" title="Ibeo LD-MRS scan header (for packet of type 0x2202)">header</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; header, 44 &gt;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    {</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#ac22d623e3c3ba76d4bf042c972203ebd">  109</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#ac22d623e3c3ba76d4bf042c972203ebd">Statuses</a> { measurementFrequencyReached = 0x0008, externalSyncDetected = 0x0010, synced = 0x0020, syncMaster = 0x0040 };</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#affc11a3901ce039bde2c7d6cc7868a3b">  112</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#affc11a3901ce039bde2c7d6cc7868a3b" title="measurement number">measurement_number</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#af2dcc30e85af090e4ee0e8fcbc2b639c">  115</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#af2dcc30e85af090e4ee0e8fcbc2b639c" title="sensor status">status</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a0ac04d7cf003bce29e6267de8eb25f0a">  118</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a0ac04d7cf003bce29e6267de8eb25f0a" title="synchronisation phase offset">sync_phase_offset</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a780b85699ee8df7435e31a8f6f6633ac">  121</a></span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1little__endian__timestamp.html" title="NTP timestamp for scan header... sigh...">little_endian_timestamp</a> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a780b85699ee8df7435e31a8f6f6633ac" title="start time of measurement">start</a>; <span class="comment">//timestamp start;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a5836b313176a1b0f274d2a1a15ce62cd">  124</a></span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1little__endian__timestamp.html" title="NTP timestamp for scan header... sigh...">little_endian_timestamp</a> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a5836b313176a1b0f274d2a1a15ce62cd" title="end time of measurement">finish</a>; <span class="comment">//timestamp finish;</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a6da30ddd28c6469b030a7dd888c91f63">  127</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a6da30ddd28c6469b030a7dd888c91f63" title="number of angular steps per scanner rotation">steps</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a6a03bb5e699d0b74fe59364fee7b3110">  131</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a6a03bb5e699d0b74fe59364fee7b3110">start_angle</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a0b8831ffcee5ed9faaab680c0f5369d9">  135</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#a0b8831ffcee5ed9faaab680c0f5369d9">finish_angle</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#ab33edc84ef78b1070a5560eeaccc466d">  138</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#ab33edc84ef78b1070a5560eeaccc466d" title="number of laser returns">points_count</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#af0b3f3ede06e52dbf9a06856a023e73c">  141</a></span>&#160;        boost::array&lt; comma::packed::uint16, 7 &gt; <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html#af0b3f3ede06e52dbf9a06856a023e73c" title="reserved fields">padding</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    };</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html">  145</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html" title="Ibeo LD-MRS data point.">point</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; point, 10 &gt;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    {</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point_1_1id.html">  148</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point_1_1id.html" title="layer and echo numbers">id</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; id, 1 &gt;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        {</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point_1_1id.html#ab5a4d4f0196babd102b007d52c7fbe27">  151</a></span>&#160;            comma::packed::byte <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point_1_1id.html#ab5a4d4f0196babd102b007d52c7fbe27" title="value">value</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point_1_1id.html#a4d18384edb9fffacbcd85cfa96d5b98f" title="layer number">layer</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point_1_1id.html#aa5ecfe67483a8b075d056167bf3adfe0" title="echo number">echo</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        };</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#a624ba2a1d0722acf01e74a33e177f9e2">  161</a></span>&#160;        <span class="keywordtype">id</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#a624ba2a1d0722acf01e74a33e177f9e2" title="point layer and echo numbers">id</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keyword">enum</span> { transparent = 0x01, dust = 0x02, rain = dust, noise = dust, dirt = 0x08 };</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#a7066f5c65685db64c60983814061b393">  167</a></span>&#160;        comma::packed::byte <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#a7066f5c65685db64c60983814061b393" title="point flags">flags</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#a9327813e23048773c11deeb8cfcb2ea0">  171</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#a9327813e23048773c11deeb8cfcb2ea0">angle</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#aef19eafe78975333979f90b4fa600a86">  174</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#aef19eafe78975333979f90b4fa600a86" title="range in cm">range</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#acac9dd523515ddec1d404ae51b55f931">  177</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#acac9dd523515ddec1d404ae51b55f931" title="echo pulse width in cm">echo_pulse_width</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        </div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#a4750472fe8ff121568c0531aa8b316a9">  180</a></span>&#160;        comma::packed::uint16 <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#a4750472fe8ff121568c0531aa8b316a9" title="padding">padding</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html#a15ad8736ece42b369fcda4f9bb48d627" title="return elevation in radians from layer()">elevation</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    };</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html#ada9cb4d57186dc4c6d8eee6d7e00b66a">  187</a></span>&#160;    <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1header.html" title="Ibeo LD-MRS scan header (for packet of type 0x2202)">header</a> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html#ada9cb4d57186dc4c6d8eee6d7e00b66a" title="scan header">scan_header</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html" title="Ibeo LD-MRS data point.">point</a>* <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html#ac0ee33d8090d35b04bd99dea86a10d0b" title="return points">points</a>();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">const</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html" title="Ibeo LD-MRS data point.">point</a>* <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html#ac0ee33d8090d35b04bd99dea86a10d0b" title="return points">points</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html#a77caf06e76a7ad5729902763f68198ea" title="take angle in steps, return angle in radians">angle_as_radians</a>( <span class="keywordtype">short</span> angle ) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html#a77caf06e76a7ad5729902763f68198ea" title="take angle in steps, return angle in radians">angle_as_radians</a>( <span class="keyword">const</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html" title="Ibeo LD-MRS data point.">point</a>&amp; <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan_1_1point.html" title="Ibeo LD-MRS data point.">point</a> ) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="code" href="classsnark_1_1sick_1_1ldmrs_1_1scan_1_1timestamps.html">  202</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classsnark_1_1sick_1_1ldmrs_1_1scan_1_1timestamps.html" title="helper class for faster calculating point timestamps">timestamps</a></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <a class="code" href="classsnark_1_1sick_1_1ldmrs_1_1scan_1_1timestamps.html" title="helper class for faster calculating point timestamps">timestamps</a>( <span class="keyword">const</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html" title="scan-related types">scan</a>&amp; <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html" title="scan-related types">scan</a> );</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            boost::posix_time::ptime operator[]( std::size_t index ) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keyword">const</span> scan&amp; m_scan;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            boost::posix_time::ptime m_start;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            boost::posix_time::ptime m_finish;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            boost::posix_time::time_duration m_elapsed;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keywordtype">short</span> m_start_angle;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordtype">short</span> m_finish_angle;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordtype">short</span> m_diff;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> m_steps;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    };</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;};</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="keyword">struct </span>scan_packet : <span class="keyword">public</span> comma::packed::packed_struct&lt; scan_packet, header::size + scan::size &gt;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html" title="Ibeo LD-MRS packet header.">header</a> packet_header;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1scan.html" title="scan-related types">scan</a> packet_scan;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;};</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="keyword">struct </span>commands</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{</div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html">  228</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; header, 4 &gt;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        comma::packed::uint16 id;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        comma::packed::net_uint16 padding;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    };</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    </div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response__header.html">  235</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response__header.html" title="response header">response_header</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; response_header, 2 &gt;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        comma::packed::uint16 id;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        std::size_t payload_size() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    };</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keyword">template</span> &lt; <span class="keyword">typename</span> C, std::<span class="keywordtype">size_t</span> Size &gt;</div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html">  243</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; C, header::size + Size &gt;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a> command_header;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>() { command_header.id = C::id; }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    };</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keyword">template</span> &lt; <span class="keyword">typename</span> C, std::<span class="keywordtype">size_t</span> Size &gt;</div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html">  251</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">response</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; typename C::response, response_header::size + Size &gt;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response__header.html" title="response header">response_header</a> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">response</a>() { <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.id = C::id; }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordtype">void</span> fail() { <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.id = <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.id() | 0x8000; }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordtype">bool</span> ok()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ( <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.id() &amp; 0x8000 ) == 0; }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordtype">bool</span> matches( comma::uint16 <span class="keywordtype">id</span> ) { <span class="keywordflow">return</span> <span class="keywordtype">id</span> == ( <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.id() &amp; 0x3fff ); }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    };</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keyword">enum</span> types</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;          reset_dsp_type = 0x0000</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        , get_status_type = 0x0001</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        , save_configuration_type = 0x0004</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        , set_type = 0x0010</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        , get_type = 0x0011</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        , reset_type = 0x001a</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        , start_type = 0x0020</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        , stop_type = 0x0021</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        , set_ntp_seconds_type = 0x0030</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        , set_ntp_fractions_type = 0x0031</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    };</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    </div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1reset__dsp.html">  275</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1reset__dsp.html" title="reset DSP (no response)">reset_dsp</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; reset_dsp, 0 &gt;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = reset_dsp_type };</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment">// no response</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    };</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    </div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1get__status.html">  283</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1get__status.html" title="get sensor status">get_status</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; get_status, 0 &gt;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = get_status_type };</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">commands::response</a>&lt; get_status, 30 &gt;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            comma::packed::uint16 firmwareVersion; <span class="comment">// e.g. 0x1230 = version 1.2.3, 0x123B = version 1.2.3b</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            comma::packed::uint16 fpgaVersion; <span class="comment">// e.g. 0x1230 = version 1.2.3, 0x123B = version 1.2.3b</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            comma::packed::uint16 status; <span class="comment">// todo: define status enum</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            comma::packed::uint32 reserved0;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            comma::packed::uint16 temperature; <span class="comment">// -( Temperature - 579.2364 ) / 3.63</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            comma::packed::uint16 serialNumber0; <span class="comment">// YY CW (e. g. YY CW = 0x0740 = year &#39;07, calendar week 40)</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            comma::packed::uint16 serialNumber1; <span class="comment">// serial number counter</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            comma::packed::uint16 reserved1;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            boost::array&lt; comma::packed::uint16, 3 &gt; fpgaVersionDate; <span class="comment">// cryptic: YYYY MM DD HH MM FPGA S</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            boost::array&lt; comma::packed::uint16, 3 &gt; dspVersionDate; <span class="comment">// cryptic: YYYY MM DD HH MM</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        };</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    };</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    </div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1save__configuration.html">  303</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1save__configuration.html" title="save configuration in the sensor&#39;s permanent memory">save_configuration</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; save_configuration, 0 &gt;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = save_configuration_type };</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">commands::response</a>&lt; save_configuration, 0 &gt; {};</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    };</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    </div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set.html">  311</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set.html" title="set parameter">set</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; set, 6 &gt;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = set_type };</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keyword">enum</span> IndexValues { ip_address = 0x1000, tcp_port = 0x1001, subnet_mask = 0x1002, gateway = 0x1003, data_output_flag = 0x1012  }; <span class="comment">// data output flag: 16 bit, see documentation for meaning, if we need it at all</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        comma::packed::uint16 index;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        comma::packed::uint32 value; <span class="comment">// todo: since it is little endian, it&#39;s really unclear what on the earth their documentation means</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">commands::response</a>&lt; set, 0 &gt; {};</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    };</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    </div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1get.html">  322</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1get.html" title="get parameter">get</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; get, 2 &gt;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = get_type };</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        comma::packed::uint16 index;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">commands::response</a>&lt; get, 6 &gt;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            comma::packed::uint16 index;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            comma::packed::uint32 value; <span class="comment">// todo: since it is little endian, it&#39;s really unclear what on the earth their documentation means</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        };</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    };</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    </div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1reset.html">  335</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1reset.html" title="reset sensor to factory settings">reset</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; reset, 0 &gt;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = reset_type };</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">commands::response</a>&lt; reset, 0 &gt; {};</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    };</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    </div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1start.html">  343</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1start.html" title="start scanning and sending scan data (&quot;start measurement&quot; in terms of the ibeo documentation)">start</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; start, 0 &gt;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = start_type };</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">commands::response</a>&lt; start, 0 &gt; {};</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    };</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    </div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1stop.html">  351</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1stop.html" title="stop scanning and sending scan data (&quot;stop measurement&quot; in terms of the ibeo documentation)">stop</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; stop, 0 &gt;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = stop_type };</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">commands::response</a>&lt; stop, 0 &gt; {};</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    };</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    </div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set__ntp__seconds.html">  359</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set__ntp__seconds.html" title="set NTP time seconds">set_ntp_seconds</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; set_ntp_seconds, 6 &gt;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = set_ntp_seconds_type };</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        comma::packed::uint16 reserved; <span class="comment">// field missed in the sick documentation</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        comma::packed::uint32 seconds;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set__ntp__seconds.html" title="set NTP time seconds">set_ntp_seconds</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set__ntp__seconds.html" title="set NTP time seconds">set_ntp_seconds</a>( comma::uint32 seconds );</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">commands::response</a>&lt; set_ntp_seconds, 0 &gt; {};</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    };</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    </div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set__ntp__fractions.html">  372</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set__ntp__fractions.html" title="set NTP time second fractions">set_ntp_fractions</a> : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>&lt; set_ntp_fractions, 6 &gt;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keyword">enum</span> { <span class="keywordtype">id</span> = set_ntp_fractions_type };</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        comma::packed::uint16 reserved; <span class="comment">// field missed in the sick documentation</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        comma::packed::uint32 fractions;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set__ntp__fractions.html" title="set NTP time second fractions">set_ntp_fractions</a>();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1set__ntp__fractions.html" title="set NTP time second fractions">set_ntp_fractions</a>( comma::uint32 fractions );</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1response.html" title="response base class">commands::response</a>&lt; set_ntp_fractions, 0 &gt; {};</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    };</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keyword">template</span> &lt; <span class="keyword">typename</span> C &gt;</div>
<div class="line"><a name="l00386"></a><span class="lineno"><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1packet.html">  386</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1packet.html" title="command packet">packet</a> : <span class="keyword">public</span> comma::packed::packed_struct&lt; packet&lt; C &gt;, ldmrs::header::size + C::size &gt;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html" title="Ibeo LD-MRS packet header.">ldmrs::header</a> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        C <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1packet.html" title="command packet">packet</a>() { <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.type = ldmrs::header::command_type; <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.payload_size = C::size; }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1packet.html" title="command packet">packet</a>( <span class="keyword">const</span> C&amp; <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1command.html" title="command base class">command</a> ) : command( command ) { <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.type = ldmrs::header::command_type; <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.payload_size = C::size; }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keyword">struct </span>response : <span class="keyword">public</span> comma::packed::packed_struct&lt; response, ldmrs::header::size + C::response::size &gt;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1header.html" title="Ibeo LD-MRS packet header.">ldmrs::header</a> <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keyword">typename</span> C::response response;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            response() { <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.type = ldmrs::header::response_type; <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.payload_size = C::response::size; }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            response( <span class="keyword">const</span> <span class="keyword">typename</span> C::response&amp; response ) : response( response ) { <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.type = ldmrs::header::response_type; <a class="code" href="structsnark_1_1sick_1_1ldmrs_1_1commands_1_1header.html" title="command header">header</a>.payload_size = C::response::size; }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        };</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    };</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;};</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;std::ostream&amp; operator&lt;&lt;( std::ostream&amp; os, <span class="keyword">const</span> commands::get_status::response&amp; rhs );</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;std::ostream&amp; operator&lt;&lt;( std::ostream&amp; os, <span class="keyword">const</span> commands::get::response&amp; rhs );</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;} } } <span class="comment">// namespace snark {  namespace sick { namespace ldmrs {</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#endif // #ifndef SNARK_SENSORS_SICK_PACKET_H_</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 16 2012 12:31:59 for snark by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
